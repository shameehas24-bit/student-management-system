<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Student Details</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="container">
        <a href="/" class="btn btn-primary">‚Üê Back to List</a>
        <div style="margin-top: 20px;">
            <h2 th:text="${student.name}">Student Name</h2>
            <p><strong>Email:</strong> <span th:text="${student.email}"></span></p>
            <p><strong>Course:</strong> <span th:text="${student.course}"></span></p>
        </div>

        <hr>

        <h3>Performance Report</h3>
        <div th:if="${#lists.isEmpty(student.marks)}">
            <p>No marks recorded yet.</p>
        </div>
        <div th:each="m : ${student.marks}" class="card">
            <strong th:text="${m.subject}">Subject</strong>: <span th:text="${m.score}">0</span>/100
        </div>

        <hr>
        
        <h4>Add New Mark</h4>
        <form th:action="@{'/student/' + ${student.id} + '/marks'}" th:object="${newMark}" method="post" style="background: #eee; padding: 15px; border-radius: 5px;">
            <div class="form-group">
                <label>Subject</label>
                <input type="text" th:field="*{subject}" placeholder="e.g. Mathematics" required>
            </div>
            <div class="form-group">
                <label>Score</label>
                <input type="number" th:field="*{score}" placeholder="0-100" required>
            </div>
            <button type="submit" class="btn btn-success">Add Mark</button>
        </form>
    </div>
</body>
</html>
